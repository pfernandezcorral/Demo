<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <enableEnhancedLookup>false</enableEnhancedLookup>
    <webLinks>
        <fullName>copado__Cancel_Deployment</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Cancel Deployment</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/30.0/connection.js&quot;)}
var updateRecords = sforce.connection.query(&quot;select id from {!$Setup.copado__Settings__c.copado__Namespace__c}Deployment_Job__c where {!$Setup.copado__Settings__c.copado__Namespace__c}Step__r.{!$Setup.copado__Settings__c.copado__Namespace__c}Deployment__c = &apos;{!copado__Deployment__c.Id}&apos;and {!$Setup.copado__Settings__c.copado__Namespace__c}Status__c in (&apos;Pending&apos;,&apos;Not started&apos;)&quot;).getArray(&quot;records&quot;);
if(updateRecords == null || updateRecords.length == 0){
	alert(&quot;{!$Label.copado__nothing_to_cancel}&quot;);
}
else{
  for (var i = 0; i &lt; updateRecords.length; i++) {
    updateRecords[i].{!$Setup.copado__Settings__c.copado__Namespace__c}Status__c = &quot;Cancelled&quot;;
  }
  var result = sforce.connection.update(updateRecords);
  window.location.reload();
}</url>
    </webLinks>
    <webLinks>
        <fullName>copado__Deploy</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <encodingKey>UTF-8</encodingKey>
        <height>600</height>
        <linkType>url</linkType>
        <masterLabel>Deploy</masterLabel>
        <openType>noSidebar</openType>
        <protected>false</protected>
        <url>/apex/{!$Setup.copado__Settings__c.copado__Namespace__c}deploymentWizard?id={!copado__Deployment__c.Id}&amp;gotoStep=deploynow</url>
    </webLinks>
</CustomObject>
